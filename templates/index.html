
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>andromeda</title>

    <link rel="stylesheet" type="text/css" href="static/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="static/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="static/css/local.css" />

    <script type="text/javascript" src="static/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="static/bootstrap/js/bootstrap.min.js"></script>

    <!-- you need to include the shieldui css and js assets in order for the charts to work -->
    <link rel="stylesheet" type="text/css" href="http://www.shieldui.com/shared/components/latest/css/shieldui-all.min.css" />
    <link rel="stylesheet" type="text/css" href="http://www.shieldui.com/shared/components/latest/css/light-bootstrap/all.min.css" />
    <link id="gridcss" rel="stylesheet" type="text/css" href="http://www.shieldui.com/shared/components/latest/css/dark-bootstrap/all.min.css" />

    <script type="text/javascript" src="http://www.shieldui.com/shared/components/latest/js/shieldui-all.min.js"></script>
    <script type="text/javascript" src="http://www.prepbootstrap.com/Content/js/gridData.js"></script>
    <style>
	hr {
		margin-top:5px;
		margin-bottom:5px;
	}
    </style>
	<script type="text/javascript">
		$(document).ready(function() {
			makeCurrentPressure();
			makeCurrentOutsideTemp();
			makeCurrentOutsideHum();
		});
		function makeCurrentOutsideHum() {
                        var gaugeOptions = {

            chart: {
                type: 'solidgauge'
            },

            title: null,

            pane: {
                center: ['50%', '85%'],
                size: '95%',
                startAngle: -90,
                endAngle: 90,
            background: {
                backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || '#EEE',
                innerRadius: '60%',
                outerRadius: '100%',
                shape: 'arc'
            }
            },

            tooltip: {
                enabled: true
            },

            // the value axis
            yAxis: {
                        stops: [
                                [0.1, '#55BF3B'], // green
                        [0.5, '#DDDF0D'], // yellow
                        [0.9, '#DF5353'] // red
                        ],
                        lineWidth: 0,
            minorTickInterval: null,
            tickPixelInterval: 400,
            tickWidth: 0,
                title: {
                y: -70
                },
            labels: {
                y: 16
            }
            },

        plotOptions: {
            solidgauge: {
                dataLabels: {
                    y: 5,
                    borderWidth: 0,
                    useHTML: true
                }
            }
        }
    };
	   // The speed gauge
    $('#current-outside-humidity').highcharts(Highcharts.merge(gaugeOptions, {
        yAxis: {
                min: 0,
                max: 100,
                title: {
                    text: ''
                }
            },

            credits: {
                enabled: false
            },

            series: [{
                name: 'Outside Humidity',
                data: [{{ ohCurrent }}],
                tooltip: {
                        valueSuffix: '%'
                }
            }]

        }));
                };

		function makeCurrentOutsideTemp() {
                        var gaugeOptions = {

            chart: {
                type: 'solidgauge'
            },

            title: null,

            pane: {
                center: ['50%', '85%'],
                size: '95%',
                startAngle: -90,
                endAngle: 90,
            background: {
                backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || '#EEE',
                innerRadius: '60%',
                outerRadius: '100%',
                shape: 'arc'
            }
            },

            tooltip: {
                enabled: true
            },

            // the value axis
            yAxis: {
                        stops: [
                                [0.1, '#55BF3B'], // green
                        [0.5, '#DDDF0D'], // yellow
                        [0.9, '#DF5353'] // red
                        ],
                        lineWidth: 0,
            minorTickInterval: null,
            tickPixelInterval: 400,
            tickWidth: 0,
                title: {
                y: -70
                },
            labels: {
                y: 16
            }
            },

        plotOptions: {
            solidgauge: {
                dataLabels: {
                    y: 5,
                    borderWidth: 0,
                    useHTML: true
                }
            }
        }
    };
	// The speed gauge
    $('#current-outside-temp').highcharts(Highcharts.merge(gaugeOptions, {
        yAxis: {
                min: -32,
                max: 120,
                title: {
                    text: ''
                }
            },

            credits: {
                enabled: false
            },

            series: [{
                name: 'Outside Temperature',
                data: [{{ otCurrent }}],
                tooltip: {
                        valueSuffix: 'F'
                }
            }]

        }));
                };

		function makeCurrentPressure() {
			var gaugeOptions = {
	
	    chart: {
	        type: 'solidgauge'
	    },
	    
	    title: null,
	    
	    pane: {
	    	center: ['50%', '85%'],
	    	size: '95%',
	        startAngle: -90,
	        endAngle: 90,
            background: {
                backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || '#EEE',
                innerRadius: '60%',
                outerRadius: '100%',
                shape: 'arc'
            }
	    },

	    tooltip: {
	    	enabled: true
	    },
	       
	    // the value axis
	    yAxis: {
			stops: [
				[0.1, '#55BF3B'], // green
	        	[0.5, '#DDDF0D'], // yellow
	        	[0.9, '#DF5353'] // red
			],
			lineWidth: 0,
            minorTickInterval: null,
            tickPixelInterval: 400,
            tickWidth: 0,
	        title: {
                y: -70
	        },
            labels: {
                y: 16
            }        
	    },
        
        plotOptions: {
            solidgauge: {
                dataLabels: {
                    y: 5,
                    borderWidth: 0,
                    useHTML: true
                }
            }
        }
    };
    
    // The speed gauge
    $('#current-pressure').highcharts(Highcharts.merge(gaugeOptions, {
        yAxis: {
	        min: 980,
	        max: 1050,
	        title: {
	            text: ''
	        }       
	    },

	    credits: {
	    	enabled: false
	    },
	
	    series: [{
	        name: 'Pressure',
	        data: [{{ pCurrent }}],
	        tooltip: {
			valueSuffix: ' mPa'
		}
	    }]
	
	}));
		};
	</script>
</head>
<body>
<script type="text/javascript" src="{{ url_for('static',filename='js/highcharts.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static',filename='js/modules/exporting.js') }}"></script>
    <script type="text/javascript" src="/static/js/themes/dark-unica.js"></script>
    <script src="http://code.highcharts.com/highcharts-more.js"></script>
	<script src="http://code.highcharts.com/modules/solid-gauge.src.js"></script>

    <div id="wrapper">

          <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">andromeda</a>
            </div>

            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul id="active" class="nav navbar-nav side-nav">
                    <li class="selected"><a href="/dashboard"><i class="fa fa-bullseye"></i> Dashboard</a></li>
                    <li><a href="/graphs"><i class="glyphicon glyphicon-stats"></i> Graphs</a></li>
		    <li><a href="/utils/outliers"><i class="glyphicon glyphicon-minus"></i> Remove Outliers</a></li>
		    <li><a href="https://andromeda.pettitservers.com:8080/nagios3"><i class="glyphicon glyphicon-eye-open"></i> Nagios</a></li>
		    <li><a href="https://jpet.us/rc"><i class="glyphicon glyphicon-envelope"></i> Webmail</a></li>
		    <li><a href="https://jpet.us/oc"><i class="glyphicon glyphicon-cloud"></i> ownCloud</a></li>
                </ul>
            </div>
        </nav>

        <div id="page-wrapper">
		<div class="row">
			<div class="col-lg-4">
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h3 class="panel-title"><i class="glyphicon glyphicon-dashboard"></i> Current Pressure</h3>
					</div>
					<div id="current-pressure"></div>
				</div>
			</div>
			<div class="col-lg-4">
                                <div class="panel panel-primary">
                                        <div class="panel-heading">
                                                <h3 class="panel-title"><i class="glyphicon glyphicon-dashboard"></i> Current Outside Temperature</h3>
                                        </div>
					<div id="current-outside-temp"></div>
                                </div>
                        </div>
			<div class="col-lg-4">
                                <div class="panel panel-primary">
                                        <div class="panel-heading">
                                                <h3 class="panel-title"><i class="glyphicon glyphicon-dashboard"></i> Current Outside Humidity</h3>
                                        </div>
					<div id="current-outside-humidity"></div>
                                </div>
                        </div>
		</div>
            <div class="row">
		<div class="col-lg-4">
                                <div class="panel panel-primary">
                                        <div class="panel-heading">
                                                <h3 class="panel-title"><i class="glyphicon glyphicon-dashboard"></i> Pressure</h3>
                                        </div>
                                <table class="table">
                                        <tr>
                                                <th>Pressure</th>
                                                <th>{{ pCurrent }} mPa</th>
                                        </tr>
                                </table>
				<hr/>
                                <table class="table">
                                        <tr>
                                                <th>Presure - Last 24 Hrs</th>
                                                <th>Low</th>
                                                <th>High</th>
                                        </tr>
                                        <tr>
                                                <td></td>
                                                <td>{{ pHigh }} mPa</td>
                                                <td>{{ pLow }} mPa</td>
                                        </tr>
                                </table>
				<hr/>
				<table class="table">
					<tr>
						<th>Pressure Trend - Last 6 Hrs</th>
						<th>Direction</th>
					</tr>
					<tr>
						<td></td>
						<td>
							{% if trend == 0 %}
							<span class="glyphicon glyphicon-arrow-down"></span> Downward
							{% elif trend == 1 %}
							<span class="glyphicon glyphicon-arrow-up"></span> Upward
							{% else %}
							<span class="glyphicon glyphicon-arrow-alt"></span> Stagnant
							{% endif %}
						</td>
					</tr>
				</table>
                                </div>
                        </div>
                <div class="col-lg-4">

			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title"><i class="glyphicon glyphicon-tree-conifer"></i> Outside Conditions</h3>
				</div>
			<table class="table">
				<tr>
					<th width="70%">Temperature</th>
					<th>{{ otCurrent }}&deg; f</th>
				</tr>
			</table>
			<hr/>
			<table class="table">
                                <tr>
                                        <th width="60%">Temperature - Last 24 Hrs</th>
                                        <th>Low</th>
					<th>High</th>
                                </tr>
				<tr>
					<td></td>
					<td>{{ otHigh }}&deg; f</td>
					<td>{{ otLow }}&deg; f</td>
				</tr>
                        </table>
			<hr/>
			<table class="table">
				<tr>
					<th width="70%">Humidity</th>
					<th>{{ ohCurrent }}%</th>
				</tr>
			</table>
			<hr/>
			<table class="table">
				<tr>
					<th width="60%">Humidity - Last 24 Hrs</th>
					<th>Low</th>
					<th>High</th>
				</tr>
				<tr>
					<td></td>
					<td>{{ ohHigh }}%</td>
					<td>{{ ohLow }}%</td>
				</tr>
			</table>
			</div>
                </div>
		<div class="col-lg-4">

                        <div class="panel panel-primary">
                                <div class="panel-heading">
                                	<h3 class="panel-title"><i class="glyphicon glyphicon-home"></i> Inside Conditions</h3>
				</div>
                        <table class="table">
				<tr>
					<th width="50%">Location</th>
					<th>Temperature</th>
				</tr>
				<tr>
					<td>Bedroom</td>
					<td>{{ btCurrent }}&deg; f</td>
				</tr>
				<tr>
					<td>House</td>
					<td>{{ htCurrent }}&deg; f</td>
				</tr>
				<tr>
					<td>Closet</td>
					<td>{{ ctCurrent }}&deg; f</td>
				</tr>
			</table>
			<hr/>
			<table class="table">
				<tr>
					<th width="50%">Location - Last 24 Hrs</th>
					<th>Low</th>
					<th>High</th>
				</tr>
				<tr>
					<td>Bedroom</td>
					<td>{{ btHigh }}&deg; f</td>
					<td>{{ btLow }}&deg; f</td>
				</tr>
				<tr>
					<td>House</td>
					<td>{{ htHigh }}&deg; f</td>
					<td>{{ htLow }}&deg; f</td>
				</tr>
				<tr>
					<td>Closet</td>
					<td>{{ ctHigh }}&deg; f</td>
					<td>{{ ctLow }}&deg; f</td>
				</tr>
			</table>
                        </div>
		</div>
		</div>
		<div class="row">
			<div class="col-lg-4">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="glyphicon glyphicon-stats"></i> Monitoring Status</h3>
                        </div>
                        <table class="table">
                                <tr><th>Monitor</td><th>Status</td><th>Last Reported</td></tr>
                                <tr>
                                        <td>Bedroom - Humidity</td>
                                        <td>{% if bhStat == True %}<span class="glyphicon glyphicon-ok" style="color: green">{% else %}<span class="glyphicon glyphicon-remove" style="color: red">{% endif %}</td>
                                        <td>{{ bhLast }}</td>
                                </tr>
                                 <tr>
                                        <td>Bedroom - Temperature</td>
                                        <td>{% if btStat == True %}<span class="glyphicon glyphicon-ok" style="color: green">{% else %}<span class="glyphicon glyphicon-remove" style="color: red">{% endif %}</td>
                                        <td>{{ btLast }}</td>
                                </tr>
                                 <tr>
                                        <td>Outside - Humidity</td>
                                        <td>{% if ohStat == True %}<span class="glyphicon glyphicon-ok" style="color: green">{% else %}<span class="glyphicon glyphicon-remove" style="color: red">{% endif %}</td>
                                        <td>{{ ohLast }}</td>
                                </tr>
                                 <tr>
                                        <td>Outside - Temperature</td>
                                        <td>{% if otStat == True %}<span class="glyphicon glyphicon-ok" style="color: green">{% else %}<span class="glyphicon glyphicon-remove" style="color: red">{% endif %}</td>
                                        <td>{{ otLast }}</td>
                                </tr>
                                 <tr>
                                        <td>Closet - Temperature</td>
                                        <td>{% if ctStat == True %}<span class="glyphicon glyphicon-ok" style="color: green">{% else %}<span class="glyphicon glyphicon-remove" style="color: red">{% endif %}</td>
                                        <td>{{ ctLast }}</td>
                                </tr>
                                <tr>
                                        <td>House - Temperature</td>
                                        <td>{% if htStat == True %}<span class="glyphicon glyphicon-ok" style="color: green">{% else %}<span class="glyphicon glyphicon-remove" style="color: red">{% endif %}</td>
                                        <td>{{ htLast }}</td>
                                </tr>
                                 <tr>
                                        <td>Pressure</td>
                                        <td>{% if pStat == True %}<span class="glyphicon glyphicon-ok" style="color: green">{% else %}<span class="glyphicon glyphicon-remove" style="color: red">{% endif %}</td>
                                        <td>{{ pLast }}</td>
                                </tr>

                        </table>
                    </div>
		</div>


			<div class="col-lg-4">
				 <div class="panel panel-primary">
                                        <div class="panel-heading">
                                                <h3 class="panel-title"><i class="glyphicon glyphicon-dashboard"></i> Host Status</h3>
                                        </div>
					<table class="table">
						<tr>
							<th>Hostname</th>
							<th>Status</th>
						</tr>
						{% for host, status in nagiosStatus.iteritems() %}
						<tr>
							<td>{{ host }}</td>
							<td>
								{% if status == "0" %}
									<span class="glyphicon glyphicon-ok-sign" style="color: green"></span>
								{% elif status == "1" %}
									<span class="glyphicon glyphicon-question-sign" style="color: yellow"></span>
								{% elif status == "2" %}
									<span class="glyphicon glyphicon-remove-sign" style="color: red"></span>	
								{% elif status == "3" %}
									<span class="glyphicon glyphicon-question-sign" style="color: blue"></span>
								{% endif %}
							</td>
						</tr>
						{% endfor %}
					</table>
				</div>
			</div>
			<div class="col-lg-4">
				 <div class="panel panel-primary">
                                        <div class="panel-heading">
                                               <h3 class="panel-title"><i class="glyphicon glyphicon-dashboard"></i> Times</h3>
                                        </div>
					<div style="text-align:center; padding-top: 10px; padding-bottom: 10px;">
					<iframe scrolling="no" frameborder="no" style="overflow:hidden;border:0;margin:0;padding:0;width:480px;height:250px;" src="http://www.clocklink.com/clocks/HTML5/html5-world.html?New_York&Denver&Beijing&480&gray"></iframe>
					</div>
				</div>
			</div>
		</div>
        </div>

    </div>
    <!-- /#wrapper -->
</body>
</html>
